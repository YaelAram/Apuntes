Para este tipo de operaciones siempre vamos a utilizar el objeto *PreparedStatement* y el método *executeUpdate* con el fin de realizar operaciones de escritura sin el temor de *SQL injections*.

**Nota: El método *executeUpdate* retorna el número de registros modificados tal y como lo hace el gestor de bases de datos.**

**Nota: Las sentencias que asignen valores en *foreign keys* pueden devolver un error si el ID utilizado no existe la tabla relación.**

Establecer valores *null* como parámetros en un *PreparedStatement*:

```
statement.setNull(1, Types.INTEGER);
```

**Nota: Es necesario indicar el tipo de dato de nuestra columna para darle más contexto a JDBC sobre el valor que estamos asignando.**

Crear un nuevo registro:

```
@Override
public boolean createItem(Product item) {
    String query = 
	    "INSERT INTO products (name, price, createdAt, idCat) values (?, ?, ?, ?)";

    try (
	    PreparedStatement statement = this.getConnection().prepareStatement(query)
	) {
        statement.setString(1, item.name());
        statement.setBigDecimal(2, item.price());
        statement.setTimestamp(3, Timestamp.valueOf(item.createdAt()));
        statement.setLong(4, item.category().id());

        int modified = statement.executeUpdate();
        return modified > 0;
    } catch (SQLException ex) {
        System.out.println();
        return false;
    }
}
```

**Nota: Utilizamos la clase *Timestamp* si nuestra columna es tipo DATETIME o TIMESTAMP, si es tipo DATE utilizamos el tipo de dato *Date*.**

Actualizar campos:

```
@Override
public boolean updateItem(long id, Product item) {
    String query = 
	    "UPDATE products SET name = ?, price = ?, idCat = ? WHERE idProd = ?";

    try (
	    PreparedStatement statement = this.getConnection().prepareStatement(query)
	) {
        statement.setString(1, item.name());
        statement.setBigDecimal(2, item.price());
        statement.setLong(3, item.category().id());
        statement.setLong(4, item.id());

        int modified = statement.executeUpdate();
        return modified > 0;
    } catch (SQLException ex) {
        System.out.println();
        return false;
    }
}
```

Eliminar un registro:

```
@Override
public boolean deleteItem(long id) {
    String query = "DELETE FROM products WHERE idProd = ?";

    try (
	    PreparedStatement statement = this.getConnection().prepareStatement(query)
	) {
        statement.setLong(1, id);
        int modified = statement.executeUpdate();

        return modified > 0;
    } catch (SQLException ex) {
        System.out.println();
        return false;
    }
}
```