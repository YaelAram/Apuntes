Diferencias:

- Una URL identifica y localiza recursos en un a red, indica el nombre del recurso, protocolo de conexión, dominio y la ruta absoluta para encontrar un recurso. Mientras que URI puede contener rutas relativas.
- Una URL es un tipo de URI.
- Mientras que el propósito de una URL es localizar un recurso el de un URI es identificar un recurso.
## URI (Uniform Resource Identifier)

Partes:

- **Scheme**: Se trata del protocolo utilizado para acceder al protocolo.
- **Scheme Specific Part**:
	- **Authority**:
		- **User Info**: Contiene la el usuario y contraseña utilizados para acceder al recurso.
		- **Host**: Nombre del *host* o IP donde se encuentra el recurso.
		- **Port**: Indica el puerto utilizado para acceder al recurso. Puede ser omitido en orden de utilizar el puerto por defecto del protocolo indicado en *scheme*.
	- **Path**: Indica la ruta a seguir dentro del servidor para localizar el recurso.
	- **Query**: Pares *key-value* utilizados para dar mayor información sobre la consulta.
- **Fragment**: Indicador para acceder a cierta parte del recurso.

Creación:

```
// Usar cuando estemos seguros que el string contiene un URI
URI baseUri = URI.create("https://unam.com");

Scheme: https,
Scheme Specific Part: //unam.com/courses/java,
    Authority: unam.com,
        User info: null
        Host: unam.com
        Port: -1
    Path: /courses/java
    Query: null
Fragment: null

// Usar cuando no estamos seguros que el string sera un URI valido
URI uri2 = new URI(
  "https://admin:admin@unam.com:8080/couses/java?lang=es#details"
);

Scheme: https,
Scheme Specific Part: //admin:admin@unam.com:8080/couses/java?lang=es,
    Authority: admin:admin@unam.com:8080,
        User info: admin:admin
        Host: unam.com
        Port: 8080
    Path: /couses/java
    Query: lang=es
Fragment: details
```

Obtener las partes de un URI a partir de una instancia de la clase:

```
public static void print(URI uri) {
    System.out.printf(
        """
        -----------------------------------------------------
        [:scheme]scheme-specific-part[#fragment]
        Scheme: %s,
        Scheme Specific Part: %s,
            Authority: %s,
                User info: %s
                Host: %s
                Port: %d
            Path: %s
            Query: %s
        Fragment: %s
	    -----------------------------------------------------
        """,
        uri.getScheme(), uri.getSchemeSpecificPart(),
        uri.getAuthority(), uri.getUserInfo(), uri.getHost(), 
        uri.getPort(), uri.getPath(), uri.getQuery(), uri.getFragment()
    );
}
```

Crear un URI absoluto que sirva de base para otros URI relativos nos puedo ayudar a que en dado caso que cambie el origen podemos limitarnos a cambiar el valor de un solo objeto:

```
URI baseUri = URI.create("https://unam.com");
URI relativeUri = URI.create("courses/java");

URI fullUri = baseUri.resolve(relativeUri);
```
## URL (Uniform Resource Locator)

Creación:

```
// Marcado como deprecated desde Java 20
URL url = new URL("http://example.com/");

// Java 20+
URI uri =  URI.create("http://example.com/");
URL url = uri.toURL();
```

Con un objeto URL podemos iniciar una conexión con el recurso, leer la información y realizar operaciones con ella:

```
URLConnection connection = url.openConnection();

// Obtener el tipo de informacion recibida
System.out.println("Content-Type: " + connection.getContentType());

// Obtener el valor de un Header en especifico
System.out.println("Cache Control: " + connection.getHeaderField("Cache-Control"));

// Obtener los Headers de la peticion
connection.getHeaderFields().entrySet().stream()
    .limit(5)
    .forEach(System.out::println);
```

Además podemos obtener el recurso al que apunta la URL:

```
public static void printResource(InputStream in) {
    try (BufferedReader reader = new BufferedReader(new InputStreamReader(in))) {
        String line;

        while((line = reader.readLine()) != null) {
            System.out.println(line);
        }
    } catch (IOException ex) {
        System.out.println(ex.getMessage());
    }
}

// USO
URLConnection connection = url.openConnection();
printResource(connection.getInputStream());
```